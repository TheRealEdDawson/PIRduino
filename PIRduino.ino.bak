// Modified from the Adafruit tutorial located here: 
// http://learn.adafruit.com/arduino-lesson-17-email-sending-movement-detector/overview

int pirPin = 7;
int led = 13;
int externalLed = 10;

//int timeBetweenLights = 60; //1 min

//long lastSend = -timeBetweenLights * 1000l;

void setup()
{ 
  pinMode(pirPin, INPUT);
  pinMode(led, OUTPUT);
  pinMode(externalLed, OUTPUT);
  Serial.begin(9600);
}

void loop()
{
  long now = millis();
  if (digitalRead(pirPin) == HIGH)
  {
//    if (now > (lastSend + timeBetweenLights * 1000l))
//    {
      Serial.println("MOVEMENT");
//      Serial.println(lastSend);
      digitalWrite(led, HIGH);   // turn the LED on 
      digitalWrite(externalLed, HIGH);   // turn the LED on 
      delay(30000);
      digitalWrite(led, LOW);    // turn the LED off 
      digitalWrite(externalLed, LOW);    // turn the LED off
//      lastSend = now;
//    }
//    else
//    {
//      Serial.println("Too soon");

//    }
  }
//  delay(500);
} 